<!DOCTYPE html>
<html lang="zh">

<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
  <meta content="yes" name="apple-mobile-web-app-capable" />
  <meta content="telephone=no" name="format-detection" />

  <title>苏州同济医院_同济官网在线预约</title>
  <link href="layout.css" rel="stylesheet" type="text/css" />
  <script src="js/jquery.min.js"></script>
  <script src="js/rem.js"></script>
  <style>
    .table {
      margin: 1rem 0;
    }

    .table .tr {
      height: 2.6rem;
    }

    .table .table-head {
      height: 3.5rem;
    }

    .table .td a {
      color: #20b59a;
    }
  </style>
</head>

<body class="index">
  <header>
    <img src="./images/logo_xcx.jpg" alt="" />
    <img src="./images/ptmz_02.jpg" alt="" />
  </header>

  <div class="table">
    <div class="table-left" id="tableLeft">
      <div class="tr"></div>
    </div>
    <div class="table-right">
      <div class="tr table-head" id="tableHead"></div>
      <div id="content"></div>
    </div>
  </div>
  <div class="bottom">
    <a class="tx" href="/gh/list_xcx.html">
      <img src="./images/tx2.png" alt=""> 特需专家号</a>
    <a class="pt active" href="/gh/list.html">
      <img src="./images/pt.png" alt=""> 普通门诊号</a>
  </div>
  <script src="js/indexList.js"></script>
  <script>
    //获取今天开始的一周
    function getOneWeekData() {
      var now = new Date();
      var nowTime = now.getTime();
      var oneDayTime = 24 * 60 * 60 * 1000;
      var aaWeek = [];
      for (var i = 0; i < 7; i++) {
        //显示周一
        var ShowTime = nowTime + i * oneDayTime;
        //初始化日期时间
        var myDate = new Date(ShowTime);
        //var year = myDate.getFullYear();//年
        //var month = (myDate.getMonth() + 1).toString().padStart(2, '0');//月
        //var date = (myDate.getDate()).toString().padStart(2, '0');//日
        var month = myDate.getMonth() + 1
        var date = myDate.getDate()
        var monthDate = month + "-" + date;
        var weekday = "星期" + "日一二三四五六".charAt(myDate.getDay());
        var oneItem = {
          weekday: weekday,
          monthDate: monthDate
        };
        aaWeek.push(oneItem);
      }
      return aaWeek;
    }

    var th = ''
    for (let i = 0; i < 7; i++) {
      var aWeekArr = getOneWeekData()[i].monthDate.split('-')
      th += '<div class="td">' + getOneWeekData()[i].weekday + '<p>' + aWeekArr[0] + '月' + aWeekArr[1] + '日</p></div>'
    }
    document.getElementById('tableHead').innerHTML = th

    var outpatient = [
      '康复医学科', '老年科', '神经内科', '心血管内科', '呼吸内科', '消化内科', '中医肛肠科', '肿瘤科', '中医科', '中西医结合科', '皮肤科', '腋臭门诊', '泌尿外科', '男性功能障碍', '普外科', '疝气门诊', '减重门诊', '结石门诊', '妇科', '计划生育门诊', '围绝经期门诊', '不孕门诊', '乳腺科', '内分泌科', '耳鼻咽喉科', '眼科', '骨科', '口腔科', '肝胆内科', '体检科'
    ]
    for (let i = 0; i < outpatient.length; i++) {
      document.getElementById('tableLeft').innerHTML +=
        '<div class="tr">' + outpatient[i] + '</div>'

      document.getElementById('content').innerHTML += '<div id="ks_' + i + '" class="tr"></div>'
      document.getElementById('ks_' + i).innerHTML = td(outpatient[i])
    }

    function td(ks) {
      var tds = ''
      for (let j = 0; j < 7; j++) {
        let weekday = getOneWeekData()[j].weekday
        if (
          (ks == '中西医结合科' && weekday == '星期一') ||
          (ks == '中医科' && weekday == '星期一') ||
          (ks == '皮肤科' && weekday == '星期三') ||
          (ks == '眼科' && weekday !== '星期三') ||
          (ks == '体检科' && weekday == '星期日')
        ) {
          tds = tds + '<div class="td">无号</div>'
        } else {
          tds = tds + '<div class="td"><a href="/gh/?keshi=' + ks + '&date=' + weekArr(getOneWeekData()[j].monthDate) + '">有号</a></div>'
        }
      }
      return tds;
    }
    function weekArr(obj) {
      var num = obj.split('-')
      return appendZero(num[0]) + '-' + appendZero(num[1])
    }
    function appendZero(num) {
      if (num < 10) {
        return "0" + "" + num;
      } else { return num; }
    }
  </script>
</body>

</html>